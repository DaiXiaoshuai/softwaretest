<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.edu.jit.mapper.SubmissionQuestionViewMapper" >
  <resultMap id="BaseResultMap" type="cn.edu.jit.po.SubmissionQuestionView" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="submissionId" property="submissionid" jdbcType="INTEGER" />
    <result column="studentId" property="studentid" jdbcType="CHAR" />
    <result column="questionId" property="questionid" jdbcType="INTEGER" />
    <result column="questionTitle" property="questiontitle" jdbcType="VARCHAR" />
    <result column="score" property="score" jdbcType="INTEGER" />
    <result column="submitTime" property="submittime" jdbcType="TIMESTAMP" />
  </resultMap>
  <insert id="insert" parameterType="cn.edu.jit.po.SubmissionQuestionView" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into submission_question_view (submissionId, studentId, questionId, 
      questionTitle, score, submitTime
      )
    values (#{submissionid,jdbcType=INTEGER}, #{studentid,jdbcType=CHAR}, #{questionid,jdbcType=INTEGER}, 
      #{questiontitle,jdbcType=VARCHAR}, #{score,jdbcType=INTEGER}, #{submittime,jdbcType=TIMESTAMP}
      )
  </insert>
  <insert id="insertSelective" parameterType="cn.edu.jit.po.SubmissionQuestionView" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into submission_question_view
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="submissionid != null" >
        submissionId,
      </if>
      <if test="studentid != null" >
        studentId,
      </if>
      <if test="questionid != null" >
        questionId,
      </if>
      <if test="questiontitle != null" >
        questionTitle,
      </if>
      <if test="score != null" >
        score,
      </if>
      <if test="submittime != null" >
        submitTime,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="submissionid != null" >
        #{submissionid,jdbcType=INTEGER},
      </if>
      <if test="studentid != null" >
        #{studentid,jdbcType=CHAR},
      </if>
      <if test="questionid != null" >
        #{questionid,jdbcType=INTEGER},
      </if>
      <if test="questiontitle != null" >
        #{questiontitle,jdbcType=VARCHAR},
      </if>
      <if test="score != null" >
        #{score,jdbcType=INTEGER},
      </if>
      <if test="submittime != null" >
        #{submittime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
    <select id="selectSubmissionByStudentId" resultMap="BaseResultMap" parameterType="java.util.Map">
      select * FROM submission_question_view
      WHERE studentId = #{studentId}
      <if test="start!=null and limit!=0">
        LIMIT #{start}, #{limit}
      </if>
    </select>

  <select id="selectSubmissionByStudentIdCount" resultType="java.lang.Integer" parameterType="java.lang.String">
    select count(*) FROM submission_question_view
    WHERE studentId = #{id}
  </select>
</mapper>